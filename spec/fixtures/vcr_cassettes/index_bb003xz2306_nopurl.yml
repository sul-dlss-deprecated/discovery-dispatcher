---
http_interactions:
- request:
    method: put
    uri: http://localhost:3000/items/bb003xz2306
    body:
      encoding: ASCII-8BIT
      string: ''
    headers:
      Accept:
      - "*/*; q=0.5, application/xml"
      Accept-Encoding:
      - gzip, deflate
      Content-Length:
      - '0'
      User-Agent:
      - Ruby
  response:
    status:
      code: 202
      message: 'Accepted '
    headers:
      X-Frame-Options:
      - SAMEORIGIN
      X-Xss-Protection:
      - 1; mode=block
      X-Content-Type-Options:
      - nosniff
      Content-Type:
      - application/json; charset=utf-8
      Cache-Control:
      - no-cache
      X-Request-Id:
      - 1930159f-7c52-4c20-b18d-0e077d5a062c
      X-Runtime:
      - '0.184968'
      Server:
      - WEBrick/1.3.1 (Ruby/2.0.0/2014-02-24)
      Date:
      - Tue, 05 May 2015 23:19:12 GMT
      Content-Length:
      - '11617'
      Connection:
      - Keep-Alive
      Set-Cookie:
      - request_method=PUT; path=/
    body:
      encoding: UTF-8
      string: |-
        put {&quot;controller&quot;=&gt;&quot;base_indexer/items&quot;, &quot;action&quot;=&gt;&quot;new&quot;, &quot;druid&quot;=&gt;&quot;bb003xz2306&quot;}

        #&lt;DiscoveryIndexer::Errors::MissingPurlPage: http://purl-test.stanford.edu/bb003xz2306.xml&gt;
        http://purl-test.stanford.edu/bb003xz2306.xml
        [&quot;/Users/aalsum/.rvm/gems/ruby-2.0.0-p451/gems/discovery-indexer-0.9.2/lib/reader/purlxml_reader.rb:18:in `rescue in read&#39;&quot;, &quot;/Users/aalsum/.rvm/gems/ruby-2.0.0-p451/gems/discovery-indexer-0.9.2/lib/reader/purlxml_reader.rb:14:in `read&#39;&quot;, &quot;/Users/aalsum/.rvm/gems/ruby-2.0.0-p451/gems/discovery-indexer-0.9.2/lib/reader/purlxml.rb:25:in `load&#39;&quot;, &quot;/Users/aalsum/Documents/CodeWorkspace/base_indexer_engine/lib/base_indexer/main_indexer_engine.rb:61:in `read_purl&#39;&quot;, &quot;/Users/aalsum/Documents/CodeWorkspace/base_indexer_engine/lib/base_indexer/main_indexer_engine.rb:31:in `index&#39;&quot;, &quot;/Users/aalsum/Documents/CodeWorkspace/base_indexer_engine/app/controllers/base_indexer/items_controller.rb:14:in `new&#39;&quot;, &quot;/Users/aalsum/.rvm/gems/ruby-2.0.0-p451/gems/actionpack-4.1.9/lib/action_controller/metal/implicit_render.rb:4:in `send_action&#39;&quot;, &quot;/Users/aalsum/.rvm/gems/ruby-2.0.0-p451/gems/actionpack-4.1.9/lib/abstract_controller/base.rb:189:in `process_action&#39;&quot;, &quot;/Users/aalsum/.rvm/gems/ruby-2.0.0-p451/gems/actionpack-4.1.9/lib/action_controller/metal/rendering.rb:10:in `process_action&#39;&quot;, &quot;/Users/aalsum/.rvm/gems/ruby-2.0.0-p451/gems/actionpack-4.1.9/lib/abstract_controller/callbacks.rb:20:in `block in process_action&#39;&quot;, &quot;/Users/aalsum/.rvm/gems/ruby-2.0.0-p451/gems/activesupport-4.1.9/lib/active_support/callbacks.rb:113:in `call&#39;&quot;, &quot;/Users/aalsum/.rvm/gems/ruby-2.0.0-p451/gems/activesupport-4.1.9/lib/active_support/callbacks.rb:113:in `call&#39;&quot;, &quot;/Users/aalsum/.rvm/gems/ruby-2.0.0-p451/gems/activesupport-4.1.9/lib/active_support/callbacks.rb:229:in `block in halting&#39;&quot;, &quot;/Users/aalsum/.rvm/gems/ruby-2.0.0-p451/gems/activesupport-4.1.9/lib/active_support/callbacks.rb:166:in `call&#39;&quot;, &quot;/Users/aalsum/.rvm/gems/ruby-2.0.0-p451/gems/activesupport-4.1.9/lib/active_support/callbacks.rb:166:in `block in halting&#39;&quot;, &quot;/Users/aalsum/.rvm/gems/ruby-2.0.0-p451/gems/activesupport-4.1.9/lib/active_support/callbacks.rb:166:in `call&#39;&quot;, &quot;/Users/aalsum/.rvm/gems/ruby-2.0.0-p451/gems/activesupport-4.1.9/lib/active_support/callbacks.rb:166:in `block in halting&#39;&quot;, &quot;/Users/aalsum/.rvm/gems/ruby-2.0.0-p451/gems/activesupport-4.1.9/lib/active_support/callbacks.rb:86:in `call&#39;&quot;, &quot;/Users/aalsum/.rvm/gems/ruby-2.0.0-p451/gems/activesupport-4.1.9/lib/active_support/callbacks.rb:86:in `run_callbacks&#39;&quot;, &quot;/Users/aalsum/.rvm/gems/ruby-2.0.0-p451/gems/actionpack-4.1.9/lib/abstract_controller/callbacks.rb:19:in `process_action&#39;&quot;, &quot;/Users/aalsum/.rvm/gems/ruby-2.0.0-p451/gems/actionpack-4.1.9/lib/action_controller/metal/rescue.rb:29:in `process_action&#39;&quot;, &quot;/Users/aalsum/.rvm/gems/ruby-2.0.0-p451/gems/actionpack-4.1.9/lib/action_controller/metal/instrumentation.rb:31:in `block in process_action&#39;&quot;, &quot;/Users/aalsum/.rvm/gems/ruby-2.0.0-p451/gems/activesupport-4.1.9/lib/active_support/notifications.rb:159:in `block in instrument&#39;&quot;, &quot;/Users/aalsum/.rvm/gems/ruby-2.0.0-p451/gems/activesupport-4.1.9/lib/active_support/notifications/instrumenter.rb:20:in `instrument&#39;&quot;, &quot;/Users/aalsum/.rvm/gems/ruby-2.0.0-p451/gems/activesupport-4.1.9/lib/active_support/notifications.rb:159:in `instrument&#39;&quot;, &quot;/Users/aalsum/.rvm/gems/ruby-2.0.0-p451/gems/actionpack-4.1.9/lib/action_controller/metal/instrumentation.rb:30:in `process_action&#39;&quot;, &quot;/Users/aalsum/.rvm/gems/ruby-2.0.0-p451/gems/actionpack-4.1.9/lib/action_controller/metal/params_wrapper.rb:250:in `process_action&#39;&quot;, &quot;/Users/aalsum/.rvm/gems/ruby-2.0.0-p451/gems/activerecord-4.1.9/lib/active_record/railties/controller_runtime.rb:18:in `process_action&#39;&quot;, &quot;/Users/aalsum/.rvm/gems/ruby-2.0.0-p451/gems/actionpack-4.1.9/lib/abstract_controller/base.rb:136:in `process&#39;&quot;, &quot;/Users/aalsum/.rvm/gems/ruby-2.0.0-p451/gems/actionview-4.1.9/lib/action_view/rendering.rb:30:in `process&#39;&quot;, &quot;/Users/aalsum/.rvm/gems/ruby-2.0.0-p451/gems/actionpack-4.1.9/lib/action_controller/metal.rb:196:in `dispatch&#39;&quot;, &quot;/Users/aalsum/.rvm/gems/ruby-2.0.0-p451/gems/actionpack-4.1.9/lib/action_controller/metal/rack_delegation.rb:13:in `dispatch&#39;&quot;, &quot;/Users/aalsum/.rvm/gems/ruby-2.0.0-p451/gems/actionpack-4.1.9/lib/action_controller/metal.rb:232:in `block in action&#39;&quot;, &quot;/Users/aalsum/.rvm/gems/ruby-2.0.0-p451/gems/actionpack-4.1.9/lib/action_dispatch/routing/route_set.rb:82:in `call&#39;&quot;, &quot;/Users/aalsum/.rvm/gems/ruby-2.0.0-p451/gems/actionpack-4.1.9/lib/action_dispatch/routing/route_set.rb:82:in `dispatch&#39;&quot;, &quot;/Users/aalsum/.rvm/gems/ruby-2.0.0-p451/gems/actionpack-4.1.9/lib/action_dispatch/routing/route_set.rb:50:in `call&#39;&quot;, &quot;/Users/aalsum/.rvm/gems/ruby-2.0.0-p451/gems/actionpack-4.1.9/lib/action_dispatch/journey/router.rb:73:in `block in call&#39;&quot;, &quot;/Users/aalsum/.rvm/gems/ruby-2.0.0-p451/gems/actionpack-4.1.9/lib/action_dispatch/journey/router.rb:59:in `each&#39;&quot;, &quot;/Users/aalsum/.rvm/gems/ruby-2.0.0-p451/gems/actionpack-4.1.9/lib/action_dispatch/journey/router.rb:59:in `call&#39;&quot;, &quot;/Users/aalsum/.rvm/gems/ruby-2.0.0-p451/gems/actionpack-4.1.9/lib/action_dispatch/routing/route_set.rb:685:in `call&#39;&quot;, &quot;/Users/aalsum/.rvm/gems/ruby-2.0.0-p451/gems/railties-4.1.9/lib/rails/engine.rb:514:in `call&#39;&quot;, &quot;/Users/aalsum/.rvm/gems/ruby-2.0.0-p451/gems/railties-4.1.9/lib/rails/railtie.rb:194:in `public_send&#39;&quot;, &quot;/Users/aalsum/.rvm/gems/ruby-2.0.0-p451/gems/railties-4.1.9/lib/rails/railtie.rb:194:in `method_missing&#39;&quot;, &quot;/Users/aalsum/.rvm/gems/ruby-2.0.0-p451/gems/actionpack-4.1.9/lib/action_dispatch/journey/router.rb:73:in `block in call&#39;&quot;, &quot;/Users/aalsum/.rvm/gems/ruby-2.0.0-p451/gems/actionpack-4.1.9/lib/action_dispatch/journey/router.rb:59:in `each&#39;&quot;, &quot;/Users/aalsum/.rvm/gems/ruby-2.0.0-p451/gems/actionpack-4.1.9/lib/action_dispatch/journey/router.rb:59:in `call&#39;&quot;, &quot;/Users/aalsum/.rvm/gems/ruby-2.0.0-p451/gems/actionpack-4.1.9/lib/action_dispatch/routing/route_set.rb:685:in `call&#39;&quot;, &quot;/Users/aalsum/.rvm/gems/ruby-2.0.0-p451@global/gems/rack-1.5.2/lib/rack/etag.rb:23:in `call&#39;&quot;, &quot;/Users/aalsum/.rvm/gems/ruby-2.0.0-p451@global/gems/rack-1.5.2/lib/rack/conditionalget.rb:35:in `call&#39;&quot;, &quot;/Users/aalsum/.rvm/gems/ruby-2.0.0-p451@global/gems/rack-1.5.2/lib/rack/head.rb:11:in `call&#39;&quot;, &quot;/Users/aalsum/.rvm/gems/ruby-2.0.0-p451/gems/actionpack-4.1.9/lib/action_dispatch/middleware/params_parser.rb:27:in `call&#39;&quot;, &quot;/Users/aalsum/.rvm/gems/ruby-2.0.0-p451/gems/actionpack-4.1.9/lib/action_dispatch/middleware/flash.rb:254:in `call&#39;&quot;, &quot;/Users/aalsum/.rvm/gems/ruby-2.0.0-p451@global/gems/rack-1.5.2/lib/rack/session/abstract/id.rb:225:in `context&#39;&quot;, &quot;/Users/aalsum/.rvm/gems/ruby-2.0.0-p451@global/gems/rack-1.5.2/lib/rack/session/abstract/id.rb:220:in `call&#39;&quot;, &quot;/Users/aalsum/.rvm/gems/ruby-2.0.0-p451/gems/actionpack-4.1.9/lib/action_dispatch/middleware/cookies.rb:562:in `call&#39;&quot;, &quot;/Users/aalsum/.rvm/gems/ruby-2.0.0-p451/gems/activerecord-4.1.9/lib/active_record/query_cache.rb:36:in `call&#39;&quot;, &quot;/Users/aalsum/.rvm/gems/ruby-2.0.0-p451/gems/activerecord-4.1.9/lib/active_record/connection_adapters/abstract/connection_pool.rb:621:in `call&#39;&quot;, &quot;/Users/aalsum/.rvm/gems/ruby-2.0.0-p451/gems/activerecord-4.1.9/lib/active_record/migration.rb:380:in `call&#39;&quot;, &quot;/Users/aalsum/.rvm/gems/ruby-2.0.0-p451/gems/actionpack-4.1.9/lib/action_dispatch/middleware/callbacks.rb:29:in `block in call&#39;&quot;, &quot;/Users/aalsum/.rvm/gems/ruby-2.0.0-p451/gems/activesupport-4.1.9/lib/active_support/callbacks.rb:82:in `run_callbacks&#39;&quot;, &quot;/Users/aalsum/.rvm/gems/ruby-2.0.0-p451/gems/actionpack-4.1.9/lib/action_dispatch/middleware/callbacks.rb:27:in `call&#39;&quot;, &quot;/Users/aalsum/.rvm/gems/ruby-2.0.0-p451/gems/actionpack-4.1.9/lib/action_dispatch/middleware/reloader.rb:73:in `call&#39;&quot;, &quot;/Users/aalsum/.rvm/gems/ruby-2.0.0-p451/gems/actionpack-4.1.9/lib/action_dispatch/middleware/remote_ip.rb:76:in `call&#39;&quot;, &quot;/Users/aalsum/.rvm/gems/ruby-2.0.0-p451/gems/actionpack-4.1.9/lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call&#39;&quot;, &quot;/Users/aalsum/.rvm/gems/ruby-2.0.0-p451/gems/actionpack-4.1.9/lib/action_dispatch/middleware/show_exceptions.rb:30:in `call&#39;&quot;, &quot;/Users/aalsum/.rvm/gems/ruby-2.0.0-p451/gems/railties-4.1.9/lib/rails/rack/logger.rb:38:in `call_app&#39;&quot;, &quot;/Users/aalsum/.rvm/gems/ruby-2.0.0-p451/gems/railties-4.1.9/lib/rails/rack/logger.rb:20:in `block in call&#39;&quot;, &quot;/Users/aalsum/.rvm/gems/ruby-2.0.0-p451/gems/activesupport-4.1.9/lib/active_support/tagged_logging.rb:68:in `block in tagged&#39;&quot;, &quot;/Users/aalsum/.rvm/gems/ruby-2.0.0-p451/gems/activesupport-4.1.9/lib/active_support/tagged_logging.rb:26:in `tagged&#39;&quot;, &quot;/Users/aalsum/.rvm/gems/ruby-2.0.0-p451/gems/activesupport-4.1.9/lib/active_support/tagged_logging.rb:68:in `tagged&#39;&quot;, &quot;/Users/aalsum/.rvm/gems/ruby-2.0.0-p451/gems/railties-4.1.9/lib/rails/rack/logger.rb:20:in `call&#39;&quot;, &quot;/Users/aalsum/.rvm/gems/ruby-2.0.0-p451/gems/actionpack-4.1.9/lib/action_dispatch/middleware/request_id.rb:21:in `call&#39;&quot;, &quot;/Users/aalsum/.rvm/gems/ruby-2.0.0-p451@global/gems/rack-1.5.2/lib/rack/methodoverride.rb:21:in `call&#39;&quot;, &quot;/Users/aalsum/.rvm/gems/ruby-2.0.0-p451@global/gems/rack-1.5.2/lib/rack/runtime.rb:17:in `call&#39;&quot;, &quot;/Users/aalsum/.rvm/gems/ruby-2.0.0-p451/gems/activesupport-4.1.9/lib/active_support/cache/strategy/local_cache_middleware.rb:26:in `call&#39;&quot;, &quot;/Users/aalsum/.rvm/gems/ruby-2.0.0-p451@global/gems/rack-1.5.2/lib/rack/lock.rb:17:in `call&#39;&quot;, &quot;/Users/aalsum/.rvm/gems/ruby-2.0.0-p451/gems/actionpack-4.1.9/lib/action_dispatch/middleware/static.rb:84:in `call&#39;&quot;, &quot;/Users/aalsum/.rvm/gems/ruby-2.0.0-p451@global/gems/rack-1.5.2/lib/rack/sendfile.rb:112:in `call&#39;&quot;, &quot;/Users/aalsum/.rvm/gems/ruby-2.0.0-p451/gems/railties-4.1.9/lib/rails/engine.rb:514:in `call&#39;&quot;, &quot;/Users/aalsum/.rvm/gems/ruby-2.0.0-p451/gems/railties-4.1.9/lib/rails/application.rb:144:in `call&#39;&quot;, &quot;/Users/aalsum/.rvm/gems/ruby-2.0.0-p451@global/gems/rack-1.5.2/lib/rack/lock.rb:17:in `call&#39;&quot;, &quot;/Users/aalsum/.rvm/gems/ruby-2.0.0-p451@global/gems/rack-1.5.2/lib/rack/content_length.rb:14:in `call&#39;&quot;, &quot;/Users/aalsum/.rvm/gems/ruby-2.0.0-p451@global/gems/rack-1.5.2/lib/rack/handler/webrick.rb:60:in `service&#39;&quot;, &quot;/Users/aalsum/.rvm/rubies/ruby-2.0.0-p451/lib/ruby/2.0.0/webrick/httpserver.rb:138:in `service&#39;&quot;, &quot;/Users/aalsum/.rvm/rubies/ruby-2.0.0-p451/lib/ruby/2.0.0/webrick/httpserver.rb:94:in `run&#39;&quot;, &quot;/Users/aalsum/.rvm/rubies/ruby-2.0.0-p451/lib/ruby/2.0.0/webrick/server.rb:295:in `block in start_thread&#39;&quot;]
    http_version:
  recorded_at: Tue, 05 May 2015 23:19:12 GMT
recorded_with: VCR 2.9.3
